doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
    title
      | Top University
    meta(content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no', name='viewport')
    script(src='https://code.jquery.com/jquery-1.12.4.js')
    script(src='https://code.jquery.com/ui/1.12.1/jquery-ui.js')
    script(type='text/javascript', src='js/tabs.js')
    
    link(href='https://fonts.googleapis.com/css?family=Montserrat:400,700,200', rel='stylesheet')
    link(href='https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css', rel='stylesheet')
    
    link(href='/assets/css/bootstrap.min.css', rel='stylesheet')
    link(href='/assets/css/paper-dashboard.css?v=2.0.0', rel='stylesheet')

    script(src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.min.js')
    script(src='https://cdn.jsdelivr.net/gh/emn178/chartjs-plugin-labels/src/chartjs-plugin-labels.js')
    script(type='text/javascript', src='https://www.gstatic.com/charts/loader.js')
    
    link(href='https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/2.3.1/css/flag-icon.min.css', rel='stylesheet')



    script(type='text/javascript').
      var dataField = JSON.parse(("#{map}").replace(/&quot;/g,'"'));

      var country = [];
      var count = [];

      for(var i = 0; i < dataField.length; i++) {
      country.push(dataField[i].Country);
      count.push(dataField[i].Count);
      }
      var Combined = new Array();
      Combined[0] = ['country', 'count'];
      console.log(Combined);
      for (var i = 0; i < dataField.length; i++) {
      var c = parseInt(count[i]);
      Combined[i + 1] = [ country[i], c ];
      }
      google.charts.load('current', {
      'packages':['geochart'],
      'mapsApiKey': 'AIzaSyD-9tSrke72PouQMnMX-a7eZSW0jkFMBWY'
      });
      google.charts.setOnLoadCallback(drawRegionsMap);
      function drawRegionsMap() {
      var data = google.visualization.arrayToDataTable(Combined);
      var options = {
      // legend: 'none',
      colorAxis: {colors: ['#e5cf77', '#ce6214']}
      };
      var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));
      chart.draw(data, options);
      }


  body
    .wrapper
      .sidebar(data-color='white', data-active-color='danger')
        .logo
          .logo-image-big
            img(src='assets/img/logo1.png')
        .sidebar-wrapper#tabs
          ul.nav
            li
              a(href='/')
                i.nc-icon.nc-bank
                p Dashboard
            li.active
              a(href='/geomap')
                i.nc-icon.nc-globe-2
                p Geomap

            li
              a(href='/ranking')
                i.nc-icon.nc-chart-bar-32
                p Ranking

      #dashboard
        .main-panel
          nav.navbar.navbar-expand-lg.navbar-absolute.fixed-top.navbar-transparent
            .container-fluid
              .navbar-wrapper
                .navbar-toggle
                  button.navbar-toggler(type='button')
                    span.navbar-toggler-bar.bar1
                    span.navbar-toggler-bar.bar2
                    span.navbar-toggler-bar.bar3
                a.navbar-brand(href='#pablo') Geomap
              button.navbar-toggler(type='button', data-toggle='collapse', data-target='#navigation', aria-controls='navigation-index', aria-expanded='false', aria-label='Toggle navigation')
                span.navbar-toggler-bar.navbar-kebab
                span.navbar-toggler-bar.navbar-kebab
                span.navbar-toggler-bar.navbar-kebab
              //- #navigation.collapse.navbar-collapse.justify-content-end
              //-   form
              //-     .input-group.no-border
              //-       input.form-control(type='text', value='', placeholder='Search...')
              //-       .input-group-append
              //-         .input-group-text
              //-           i.nc-icon.nc-zoom-split




          .content
            .row
              .col-md-12
                    .card(style='margin-top: -20px; margin-left: 10px')
                      .card-header
                        h5.card-title Distribution of Top 1000 World Universities
                        p.card-category 2018-2019
                      .card-body
                        #regions_div(style='width: 1000px; height: 440px;')
          
            .row
              .col-lg-3.col-md-6.col-sm-6
                .card.card-stats
                  .card-body
                    .row
                      .col-5.col-md-4
                        .icon-big.text-center.icon-warning
                          i.flag-icon.flag-icon-us
                      .col-7.col-md-8
                        .numbers
                          p.card-category N0.1
                          p.card-title
                            | USA
                          p
                  .card-footer
                    hr
                    .stats
                      i.fa.fa-bookmark 
                      |  Total 573 Universities

              .col-lg-3.col-md-6.col-sm-6
                .card.card-stats
                  .card-body
                    .row
                      .col-5.col-md-4
                        .icon-big.text-center.icon-warning
                          i.flag-icon.flag-icon-cn
                      .col-7.col-md-8
                        .numbers
                          p.card-category N0.2
                          p.card-title
                            | China 
                          p
                  .card-footer
                    hr
                    .stats
                      i.fa.fa-bookmark 
                      |  Total 167 Universities

              .col-lg-3.col-md-6.col-sm-6
                .card.card-stats
                  .card-body
                    .row
                      .col-5.col-md-4
                        .icon-big.text-center.icon-warning
                          i.flag-icon.flag-icon-jp
                      .col-7.col-md-8
                        .numbers
                          p.card-category N0.3
                          p.card-title
                            | Japan 
                          p
                  .card-footer
                    hr
                    .stats
                      i.fa.fa-bookmark 
                      |  Total 159 Universities

              .col-lg-3.col-md-6.col-sm-6
                .card.card-stats
                  .card-body
                    .row
                      .col-5.col-md-4
                        .icon-big.text-center.icon-warning
                          i.flag-icon.flag-icon-fr
                      .col-7.col-md-8
                        .numbers
                          p.card-category N0.4
                          p.card-title
                            | France 
                          p
                  .card-footer
                    hr
                    .stats
                      i.fa.fa-bookmark 
                      |  Total 109 Universities


    // Core JS Files
    script(src='../assets/js/core/jquery.min.js')
    script(src='../assets/js/core/popper.min.js')
    script(src='../assets/js/core/bootstrap.min.js')
    script(src='../assets/js/plugins/perfect-scrollbar.jquery.min.js')
    // Google Maps Plugin
    script(src='https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE')
    //- // Chart JS
    //- script(src='../assets/js/plugins/chartjs.min.js')
    // Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc
    script(src='../assets/js/paper-dashboard.min.js?v=2.0.0', type='text/javascript')
    // Paper Dashboard DEMO methods, don't include it in your project!
    script(src='../assets/demo/demo.js')
    script.
      $(document).ready(function() {
      // Javascript method's body can be found in assets/assets-for-demo/js/demo.js
      //demo.initChartsPages();
      });

    

